<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hello World</title>
  <link href='/style.css' rel='stylesheet'>
</head>

<body>
  <h1>Consola</h1>
  <p>
    <output id="consola"></output>
  </p>
  <!-- <script defer type="text/javascript" src="ejemplos.js"></script>
  <script defer type="text/javascript" src="ejemplos1.js"></script>
  <script defer type="text/javascript" src="main.js"></script> -->
  <script>
    let consola = document.getElementById('consola');
    function logInfo(message) {
      if (!message)
        throw new Error('No hay mensaje')
      consola.innerHTML += message + '<br>';
    }
  </script>
  <script>
    function muestra(nom, obj) {
      logInfo(nom + '{')
      for(var indice in obj) {
        logInfo('&nbsp;&nbsp;&nbsp;' + indice + ': ' + obj[indice] )
      }
      logInfo('}')
    }
    var obj = {}
    obj.id = 1
    obj.nombre = 'Pepito'
    obj.apellidos = 'Grillo'
    obj.fullname = function () {
      return this.nombre + ' ' + this.apellidos
    }
    obj.telefonos = ["555 111 111", '555 777 123']
    obj.direccion = {
      calle: 'Pez volador',
      cp: '8080',
      provincia: 'Barcelona'
    }
    // logInfo(obj.fullname())
    obj.apellidos = 'GRILLO'
    obj.edad = 23
    // logInfo(JSON.stringify(obj))

    function Persona(nombre, apellidos, telefonos, edad) {
      this.nombre = nombre
      this.apellidos = apellidos
      this.telefonos = telefonos
      this.edad = edad
    }
    Persona.prototype.edadJubilacion = 67
    Persona.prototype.fullname = function () {
      return this.nombre + ' ' + this.apellidos
    }
    Persona.prototype.tieneTelefonos = function () {
      return this.telefonos && this.telefonos.length > 0
    }
    Persona.prototype.estaJubilado = function () {
      return this.edad != undefined && this.edad > this.edadJubilacion
    }
    function Empleado(nombre, apellidos, telefonos, edad) {
      this.nombre = nombre
      this.apellidos = apellidos
      this.telefonos = telefonos
      this.edad = edad
    }
    Empleado.prototype = Persona.prototype
    Empleado.prototype.otra = 67

    var p1 = new Persona('Pepito', 'Grillo', ["555 111 111", '555 777 123'], 23)
    // logInfo(JSON.stringify(p1))
    muestra('p1', p1)
    var p2 = new Persona('Carmelo', 'Coton')
    console.log(window)
    // logInfo(JSON.stringify(p2))
    muestra('p2', p2)
    // p2.fullname = function () {
    //     return this.apellidos + ', ' + this.nombre
    //   }

    p1.edas = 'otro'
    p1.telefonos = function() {}
    // logInfo(JSON.stringify(p1))
    muestra('p1', p1)
    // for(var indice in obj) {
    //   logInfo(indice)
    // }
    // for(var indice in obj) {
    //   logInfo(obj[indice])
    // }
    var personas = []
    personas.push(p1)
    personas.push(p2)
    // logInfo(JSON.stringify(personas))
    for (var indice in personas) {
      logInfo(personas[indice].fullname() + 
        (personas[indice].tieneTelefonos ? ' con' : ' sin') + ' telefonos' +
        (personas[indice].estaJubilado ? ' y esta jubilado' : ' y no esta jubilado')
      )
    }
    logInfo(p1.fullname === p2.fullname ?'si':'no')
    logInfo(p1.tieneTelefonos === p2.tieneTelefonos ?'si':'no')
  </script>
</body>

</html>